{
  "$schema": "https://vega.github.io/schema/vega-lite/v5.json",
  "data": {
    "url": "https://raw.githubusercontent.com/rfordatascience/tidytuesday/master/data/2020/2020-02-18/food_consumption.csv",
    "format": { "type": "csv" }
  },
  "vconcat": [
    {
      "hconcat": [
        {
          "layer": [
            {
              "mark": {
                "type": "geoshape",
                "fill": "white",
                "stroke": "#000",
                "strokeWidth": 1,
                "strokeOpacity": 0.5
              },
              "data": {
                "url": "https://raw.githubusercontent.com/brechtv/looker_map_layers/master/world-countries-sans-antarctica.json",
                "format": { "type": "topojson", "feature": "countries1" }
              }
            },
            {
              "mark": {
                "type": "geoshape",
                "stroke": "#000000",
                "strokeWidth": 0.5
              },
              "data": {
                "url": "https://raw.githubusercontent.com/brechtv/looker_map_layers/master/world-countries-sans-antarctica.json",
                "format": { "type": "topojson", "feature": "countries1" }
              },
              "transform": [
                {
                  "lookup": "properties.name",
                  "from": {
                    "data": {
                      "url": "https://raw.githubusercontent.com/Zhaohuan-Guo/vega-lite-Co2/main/final_data.csv"
                    },
                    "key": "country",
                    "fields": ["co2_emmission_all"]
                  }
                }
              ],
              "encoding": {
                "color": { "field": "co2_emmission", "type": "quantitative" },
                "tooltip": [
                  { "field": "properties.name", "type": "nominal", "title": "country" },
                  { "field": "co2_emmission", "type": "nominal", "title": "Tectonic Setting" }
                ]
              }
            }
          ],
          "projection": { "type": "equirectangular" },
          "width": 500,
          "height": 200
        }
      ]
    }
  ]
}
